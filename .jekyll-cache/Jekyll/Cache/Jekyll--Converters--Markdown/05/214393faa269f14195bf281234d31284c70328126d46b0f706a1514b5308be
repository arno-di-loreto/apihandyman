I"¸l<p>Hypermedia is not only a conceptual and philosophical subject of interesting and animate debates among the API community, itâ€™s also a concrete solution we can use to cover concrete needs.
In this second part of hypermedia API maturity model (HAMM) series I will talk about my own experience to expose two missing (in my humble opinon) notions in common implementations and include these <em>missing links</em> in an updated version of the HAMM.<!--more-->
<em>If you have not read part I you can read it <a href="/hypermedia-api-maturity-model-part-i-hypermedia-ness/">here</a>.</em></p>

<h1 id="crossing-the-hypermedia-path">Crossing the hypermedia path</h1>
<p>Hypermedia in general and the concepts described in this post in particular are not only concepts but also concrete solutions to needs that I had to deal with on a project.</p>

<p>This project consisted in designing and building an API offering the same functionalities as my companyâ€™s web site as a prelude of a complete rewriting of this web site. This was also a first step in the (re)building of our API platform which will be used by all our websites and mobile applications.
n.b. This API is, for now, a <del><em>ninja</em></del> <em>dark internal</em> API (cf. <a href="http://www.soatothecloud.com/2015/02/this-week-there-has-been-great.html">Mark Oâ€™Neil APIâ€™s categorization</a>).</p>

<p>I wanted to offer a good user experience with our API and in particular to limit business logic implementation in consumers.
Based on:</p>

<ul>
  <li>An analysis of the web application and what runs behind it from functionnal and technical point of view</li>
  <li>My experience making evolve this web application and its mobile counterpart (which offers less functionnalities)</li>
</ul>

<p>I determined that if I wanted to offer the expected good user experience with this API, I needed some things, among many others, like:</p>

<ul>
  <li>the possibility of activate/deactivate some functionalities on the fly</li>
  <li>some kind of habilitations system as
    <ul>
      <li>two users can have different rights on the same /resources/ID</li>
      <li>one user can have different rights on on two resources of the same type /resources/ID1 and /resources/ID2</li>
      <li>two resources /resources/ID1 and /resources/ID2 of the same type may not share the same possibilities (actions)</li>
    </ul>
  </li>
  <li>giving informations about how to chain actions on complex processes</li>
  <li>handling different processes on different consumers for the same action (mainly based on security matters)</li>
  <li>and most important: being proactive and exhaustive when informing the consumer (and therefore the end user) about the points above.</li>
</ul>

<p>As I was documenting myself about REST APIs, I (re)discovered the notion of <em>hypermedia</em> for REST APIs in <a href="http://martinfowler.com/articles/richardsonMaturityModel.html">Richardsonâ€™s Maturity Model</a>.</p>

<div class="text-center">
      <figure class="figure">
        
        <img src="/images/hypermedia-api-maturity-model-part-ii-the-missing-links/heman-power-of-hypermedia.png" class="figure-img img-fluid" />
        
        <figcaption class="figure-caption text-left">Me, figuring that hypermedia can handle this (re-enactment).</figcaption>
      </figure>
    </div>

<p>If in the web application, all of these needs are handled (from the user point view) mostly via hypermedia (the user browse from page to page by clicking on links) why wouldnâ€™t we do the same with the API?</p>

<h1 id="the-missing-links">The missing links</h1>

<p>All those needs can be summarised by:</p>

<ul>
  <li>Inform at runtime about what you can do</li>
  <li>Inform at runtime about what you canâ€™t do and why.</li>
  <li>Inform at runtime about how to do it</li>
</ul>

<p>The first item, as seen in <a href="/hypermedia-api-maturity-model-part-i-hypermedia-ness/">part I</a>, is well covered by common hypermedia techniques, but I did not found informations for the two others, they are the missing links.</p>

<p><em>This concepts have not been implemented in reality exactly as described in this post because as I was writting I had new ideas concerning representations of this informations, but the spirit is still the same.</em></p>

<h2 id="what-you-cant-do-and-why">What you canâ€™t do and why</h2>

<p>All hypermedia systems Iâ€™ve seen so far focus on what you <em>can</em> do. On each resource you get a list of things you <em>can</em> do. But what happens when you <em>canâ€™t</em> do something?</p>

<p>There are two common answers to this question:</p>

<ul>
  <li>If itâ€™s impossible to do, itâ€™s not in the list (you can try to do it but youâ€™ll get an error)</li>
  <li>If itâ€™s impossible to do, itâ€™s in the list but youâ€™ll get an error when youâ€™ll try to do it (because itâ€™s impossible to do).</li>
</ul>

<p>For many use case, these answers will fit perfectly.</p>

<p>But sometimes not.</p>

<div class="text-center">
      <figure class="figure">
        
        <img src="/images/hypermedia-api-maturity-model-part-ii-the-missing-links/whatyoucantdo.png" class="figure-img img-fluid" />
        
        
      </figure>
    </div>

<p>Sometimes it would be better for user experience to explicitly say that a thing is impossible to do <em>before</em> someone actually try to do that thing.</p>

<h3 id="status-property">Status property</h3>

<p>Letâ€™s take the dummy API described in part I and work with the <em>add photo</em> operation for <em>location</em> resource (still using NARWHL).</p>

<p>How it looks like in last post:</p>
<div class="card card-code text-white bg-dark border-dark">
  
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code snippet control">
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-text line-numbers code-copy"><code class="code-block">GET https://api.dummy.com/locations/IDL1</code></pre>
  </div>
</div>

<div class="card card-code text-white bg-dark border-dark">
  
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code snippet control">
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-json line-numbers code-copy"><code class="code-block">{
  &quot;_links&quot;: 
  [
    ... 
    {
      &quot;rel&quot;: &quot;https://api.dummy.com/photos/definitions#add&quot;,
      &quot;href&quot;: &quot;https://api.dummy.com/photos&quot;,
      &quot;method&quot;: &quot;POST&quot;,
      &quot;parameters&quot; :
      {
        &quot;locationId&quot; : &quot;IDL1&quot;,
        &quot;url&quot; : &quot;http://example.com/your/photo&quot; 
      }
    }
  ],
  ...
}</code></pre>
  </div>
</div>

<p>Now I add a <em>status</em> property to indicate if the operation is possible or not and explain why if itâ€™s not possible:</p>

<ul>
  <li>The <em>status.usable</em> property indicates if the operation is possible or not.</li>
  <li>The <em>status.cause</em> property indicates the origin (<em>details[].name</em>) of the impossibility.</li>
  <li>The <em>status.details</em> array contains all the elements used to evaluate <em>status.usable</em>.</li>
</ul>

<p>In this case, the <em>usability</em> is based on two notions: <em>availability</em> and <em>authorization</em>.</p>

<h3 id="the-operation-in-unavailable-due-to-maintenance">The operation in unavailable due to maintenance</h3>
<div class="card card-code text-white bg-dark border-dark">
  
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code snippet control">
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-text line-numbers code-copy"><code class="code-block">GET https://api.dummy.com/locations/IDL1</code></pre>
  </div>
</div>

<div class="card card-code text-white bg-dark border-dark">
  
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code snippet control">
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          <a role="button" class="btn btn-secondary border-0 rounded-0 code-expandcollapse-btn" aria-label="expand or shrink" onclick="expandCollapseCode(this)" data-toggle="tooltip" data-placement="top" title="Expand/Shrink"><img class="btn-icon" src="/images/commons/icons/maximize.svg" /></a>
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-json line-numbers code-collapsed code-copy"><code class="code-block">{
  &quot;_links&quot;: 
  [
    ... 
    {
      &quot;rel&quot;: &quot;https://api.dummy.com/photos/definitions#add&quot;,
      &quot;href&quot;: &quot;https://api.dummy.com/photos&quot;,
      &quot;method&quot;: &quot;POST&quot;,
      &quot;parameters&quot; :
      {
        &quot;locationId&quot; : &quot;IDL1&quot;,
        &quot;url&quot; : &quot;http://example.com/your/photo&quot; 
      },
      &quot;status&quot;: 
      { 
          &quot;usable&quot;:&quot;false&quot;, 
          &quot;cause&quot; : &quot;available&quot; , 
          &quot;details&quot; : 
          [ 
              { 
                  &quot;name&quot;: &quot;available&quot;,
                  &quot;value&quot; : &quot;false&quot;
                  &quot;reason&quot;: &quot;Temporarly down for programmed maintenance&quot;
                  &quot;extraValues&quot;: 
                  [ 
                      {&quot;name&quot; : &quot;endDate&quot;, &quot;value&quot;: &quot;1426432120002&quot;}, 
                      {&quot;name&quot; : &quot;cause&quot;, &quot;value&quot;: &quot;maintenance&quot;} 
                  ]
              }
              {
                  &quot;name&quot;: &quot;authorized&quot;,
                  &quot;value&quot;: &quot;true&quot;
              }
          ] 
      }
      
    }
  ],
  ...
}</code></pre>
  </div>
</div>

<h3 id="the-operation-in-unauthorized-for-this-resource-location">The operation in unauthorized for this resource (location)</h3>
<div class="card card-code text-white bg-dark border-dark">
  
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code snippet control">
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-text line-numbers code-copy"><code class="code-block">GET https://api.dummy.com/locations/IDL1</code></pre>
  </div>
</div>

<div class="card card-code text-white bg-dark border-dark">
  
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code snippet control">
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          <a role="button" class="btn btn-secondary border-0 rounded-0 code-expandcollapse-btn" aria-label="expand or shrink" onclick="expandCollapseCode(this)" data-toggle="tooltip" data-placement="top" title="Expand/Shrink"><img class="btn-icon" src="/images/commons/icons/maximize.svg" /></a>
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-json line-numbers code-collapsed code-copy"><code class="code-block">{
  &quot;_links&quot;: 
  [
    ... 
    {
      &quot;rel&quot;: &quot;https://api.dummy.com/photos/definitions#add&quot;,
      &quot;href&quot;: &quot;https://api.dummy.com/photos&quot;,
      &quot;method&quot;: &quot;POST&quot;,
      &quot;parameters&quot; :
      {
        &quot;locationId&quot; : &quot;IDL1&quot;,
        &quot;url&quot; : &quot;http://example.com/your/photo&quot; 
      },
      &quot;status&quot;: 
      { 
          &quot;usable&quot;:&quot;false&quot;, 
          &quot;cause&quot; : &quot;available&quot; , 
          &quot;details&quot; : 
          [ 
              { 
                  &quot;name&quot;: &quot;available&quot;,
                  &quot;value&quot; : &quot;true&quot;
              }
              {
                  &quot;name&quot;: &quot;authorized&quot;,
                  &quot;value&quot;: &quot;false&quot;,
                  &quot;reason&quot;: &quot;Maximum number of photos reached for this location&quot;,
                  &quot;extraValues&quot;: 
                  [  
                      {&quot;name&quot; : &quot;cause&quot;, &quot;value&quot;: &quot;locationMaximumNumberOfPhotos&quot;} 
                  ]
              }
          ] 
      }
      
    }
  ],
  ...
}</code></pre>
  </div>
</div>

<h3 id="the-operation-in-unauthorized-for-the-user">The operation in unauthorized for the user</h3>
<div class="card card-code text-white bg-dark border-dark">
  
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code snippet control">
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-text line-numbers code-copy"><code class="code-block">GET https://api.dummy.com/locations/IDL1</code></pre>
  </div>
</div>

<div class="card card-code text-white bg-dark border-dark">
  
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code snippet control">
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          <a role="button" class="btn btn-secondary border-0 rounded-0 code-expandcollapse-btn" aria-label="expand or shrink" onclick="expandCollapseCode(this)" data-toggle="tooltip" data-placement="top" title="Expand/Shrink"><img class="btn-icon" src="/images/commons/icons/maximize.svg" /></a>
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-json line-numbers code-collapsed code-copy"><code class="code-block">{
  &quot;_links&quot;: 
  [
    ... 
    {
      &quot;rel&quot;: &quot;https://api.dummy.com/photos/definitions#add&quot;,
      &quot;href&quot;: &quot;https://api.dummy.com/photos&quot;,
      &quot;method&quot;: &quot;POST&quot;,
      &quot;parameters&quot; :
      {
        &quot;locationId&quot; : &quot;IDL1&quot;,
        &quot;url&quot; : &quot;http://example.com/your/photo&quot; 
      },
      &quot;status&quot;: 
      { 
          &quot;usable&quot;:&quot;false&quot;, 
          &quot;cause&quot; : &quot;available&quot; , 
          &quot;details&quot; : 
          [ 
              { 
                  &quot;name&quot;: &quot;available&quot;,
                  &quot;value&quot; : &quot;true&quot;
              }
              {
                  &quot;name&quot;: &quot;authorized&quot;,
                  &quot;value&quot;: &quot;false&quot;,
                  &quot;reason&quot;: &quot;Daily maximum upload volume reached for this user&quot;,
                  &quot;extraValues&quot;: 
                  [  
                      {&quot;name&quot; : &quot;cause&quot;, &quot;value&quot;: &quot;userDailyMaximumUpload&quot;}  
                  ]
              }
          ] 
      }
      
    }
  ],
  ...
}</code></pre>
  </div>
</div>

<h3 id="everything-is-ok">Everything is OK</h3>
<div class="card card-code text-white bg-dark border-dark">
  
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code snippet control">
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-text line-numbers code-copy"><code class="code-block">GET https://api.dummy.com/locations/IDL1</code></pre>
  </div>
</div>

<div class="card card-code text-white bg-dark border-dark">
  
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code snippet control">
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          <a role="button" class="btn btn-secondary border-0 rounded-0 code-expandcollapse-btn" aria-label="expand or shrink" onclick="expandCollapseCode(this)" data-toggle="tooltip" data-placement="top" title="Expand/Shrink"><img class="btn-icon" src="/images/commons/icons/maximize.svg" /></a>
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-json line-numbers code-collapsed code-copy"><code class="code-block">{
  &quot;_links&quot;: 
  [
    ... 
    {
      &quot;rel&quot;: &quot;https://api.dummy.com/photos/definitions#add&quot;,
      &quot;href&quot;: &quot;https://api.dummy.com/photos&quot;,
      &quot;method&quot;: &quot;POST&quot;,
      &quot;parameters&quot; :
      {
        &quot;locationId&quot; : &quot;IDL1&quot;,
        &quot;url&quot; : &quot;http://example.com/your/photo&quot; 
      },
      &quot;status&quot;: 
      { 
          &quot;usable&quot;:&quot;true&quot;,  
          &quot;details&quot; : 
          [ 
              { 
                  &quot;name&quot;: &quot;available&quot;,
                  &quot;value&quot; : &quot;true&quot;
              }
              {
                  &quot;name&quot;: &quot;authorized&quot;,
                  &quot;value&quot;: &quot;true&quot;
              }
          ] 
      }
      
    }
  ],
  ...
}</code></pre>
  </div>
</div>

<h2 id="how-you-do-things">How you do things</h2>
<p>Actual techniques for hypermedia implementation Iâ€™ve seen for now can tell you what actions you can do with a resource and what you need to do it but sometimes you need more information for processes involving more than one action.</p>

<div class="text-center">
      <figure class="figure">
        <a href="http://www.collegehumor.com/post/6500868/sci-fi-ikea-manuals">
        <img src="/images/hypermedia-api-maturity-model-part-ii-the-missing-links/djiloriann.png" class="figure-img img-fluid" />
        </a>
        <figcaption class="figure-caption text-left">Djiloriann manual, www.collegehumor.com</figcaption>
      </figure>
    </div>

<p>For example, when you use Twitter API, if you want to tweet with one media you have to</p>

<ul>
  <li>upload a media using POST media/upload (youâ€™ll get an ID in return)</li>
  <li>then tweet using POST update/statuses with this ID in media_ids attribute</li>
</ul>

<p>This is cleary explain in the documentation, but what about machine readability? 
For machine readibility an evolution of swagger or blueprint or RAML could handle this but what if this process could change depending on the consumer/user/whatever rule you want?
You need information at runtime about this.</p>

<h3 id="the-process-property">The process property</h3>
<p>The process property describes how actions are chained and what is next step:</p>

<ul>
  <li>process.type: the name of the process</li>
  <li>process.step: the next step</li>
  <li>process.steps: lists all steps of the process</li>
</ul>

<p>Letâ€™s see what we can do with the <em>media tweet</em> case.</p>

<h3 id="first-we-get-the-tweetwithmedia-action">First we get the tweetWithMedia action</h3>
<p>This action could placed be in <em>_links</em> property of GET https://api.twitter.com/1.1/.</p>
<div class="card card-code text-white bg-dark border-dark">
  
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code snippet control">
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          <a role="button" class="btn btn-secondary border-0 rounded-0 code-expandcollapse-btn" aria-label="expand or shrink" onclick="expandCollapseCode(this)" data-toggle="tooltip" data-placement="top" title="Expand/Shrink"><img class="btn-icon" src="/images/commons/icons/maximize.svg" /></a>
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-json line-numbers code-collapsed code-copy"><code class="code-block">{
  &quot;_links&quot;: 
  [
    ... 
    {
      &quot;process&quot; : 
      {
          &quot;type&quot;: &quot;tweetWithMedia&quot;,
          &quot;step&quot;: &quot;uploadMedia&quot;,
          &quot;steps&quot; : [ &quot;uploadMedia&quot;, &quot;updateStatus&quot;]
      },
      &quot;href&quot;: &quot;https://twitter.com/1.1/media/upload.json&quot;,
      &quot;method&quot;: &quot;POST&quot;,
      &quot;parameters&quot; :
      {
        ... 
      },
    }
  ],
  ...
}</code></pre>
  </div>
</div>

<p>We get a first step: we have to upload a media.</p>

<h3 id="so-we-do-the-post-httpsapitwittercom11mediauploadjson">So we do the POST https://api.twitter.com/1.1/media/upload.json</h3>

<div class="card card-code text-white bg-dark border-dark">
  
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code snippet control">
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          <a role="button" class="btn btn-secondary border-0 rounded-0 code-expandcollapse-btn" aria-label="expand or shrink" onclick="expandCollapseCode(this)" data-toggle="tooltip" data-placement="top" title="Expand/Shrink"><img class="btn-icon" src="/images/commons/icons/maximize.svg" /></a>
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-json line-numbers code-collapsed code-copy"><code class="code-block">{
  &quot;_links&quot;: 
  [
    ... 
    {
      &quot;process&quot; : 
      {
          &quot;type&quot;: &quot;tweetWithMedia&quot;,
          &quot;step&quot;: &quot;updateStatus&quot;,
          &quot;steps&quot; : [ &quot;uploadMedia&quot;, &quot;updateStatus&quot;]
      },
      &quot;href&quot;: &quot;https://api.twitter.com/1.1/statuses/update.json&quot;,
      &quot;method&quot;: &quot;POST&quot;,
      &quot;parameters&quot; :
      {
        &quot;media_ids&quot;: &quot;1234567890123456789&quot;,
        ... 
      },
    }
  ],
  ...
}</code></pre>
  </div>
</div>

<p>In return we get the next step <em>updateStatus</em> for process <em>tweetWithMedia</em> with property <em>media_ids</em> containing the id of the uploaded media.</p>

<h3 id="so-finally-we-do-post-httpsapitwittercom11statusesupdatejson">So finally, we do POST https://api.twitter.com/1.1/statuses/update.json</h3>
<p>This is the last step, process <em>tweetWithMedia</em> is over so itâ€™s not present anymore in <em>_links</em>.</p>

<p><em>Iâ€™m not really satisfied with that implementation of the *how you do it</em> item but the spirit is here.*</p>

<h1 id="hypermedia-api-maturity-model-v100-alpha-2">Hypermedia API maturity model v1.0.0-alpha-2</h1>
<p>Itâ€™s now time to update HAMM with these two new items and find a way to handle Collection+JSON that would not fit in v1.0.0-alpha-1 version.</p>

<p>With this update, HAMM consists now in 5 characteristics, each one gets a score:</p>

<ul>
  <li>Where you can go, score 1 (00001)</li>
  <li>What you can do, score 2 (00010)</li>
  <li>What you need to do things, score 4 (00100)</li>
  <li>What you canâ€™t do and why, score 8 (01000)</li>
  <li>How you do things, score 16 (10000)</li>
</ul>

<p>You get the level of hypermedianess by adding the scores of the characteristics you comply with.
You can also <em>decode</em> a level to know what are its characteristics.</p>

<p>With systems referenced in previous post we have:</p>

<ul>
  <li>JSON-LD, HAL, jsonapi.org: level 1 (where you can go)</li>
  <li>Collection+JSON: level 5 (where you can go + what you need to do things)</li>
  <li>Siren, JSON-LD+Hydra and NARWHL: level 11 (where you can go, what you can do, what you need to do things)</li>
</ul>

<h1 id="this-is-the-end">This is the end?</h1>
<p>This is it for now about the HAMM version 1.0.0.alpha-2, this is still a work in progress Iâ€™ll write other posts about this later.
Thank you for reading, I hope itâ€™s not over complicated. Iâ€™m really looking forward to your comments here or on Twitter about all this. Does anybody encounter the same needs? What do you think about HAMM? Did I miss something in common hypermedia systems?</p>
:ET