<!DOCTYPE html>













<html lang="en">
  <head>
  <title>API Handyman | Defining Security</title>
  <meta name="description" content="After mastering input and output modeling like a Jedi, let’s see how we can describe API’s security with the OpenAPI specification’s.">
<meta name="keywords" content="API,Web API,Web Service">
<meta name="author" content="Arnaud Lauret">
<meta name="description" content="After mastering input and output modeling like a Jedi, let’s see how we can describe API’s security with the OpenAPI specification’s.">

<!-- Facebook & LinkedIn -->
<meta property="og:title"         content="Defining Security"/>
<meta property="og:type"          content="article"/>
<meta property="og:description"   content="After mastering input and output modeling like a Jedi, let’s see how we can describe API’s security with the OpenAPI specification’s."/>
<meta property="og:url"           content="https://apihandyman.io/writing-openapi-swagger-specification-tutorial-part-6-defining-security/"/>
<meta property="og:image"         content="https://apihandyman.io/images/writing-openapi-swagger-specification-tutorial-part-6-defining-security/banner.png"/>

<!-- Twitter -->
<meta name="twitter:card"         content="summary">
<meta name="twitter:site"         content="@apihandyman">
<meta name="twitter:creator"      content="@apihandyman" />
<meta name="twitter:title"        content="Defining Security">
<meta name="twitter:url"          content="https://apihandyman.io/writing-openapi-swagger-specification-tutorial-part-6-defining-security/">
<meta name="twitter:description"  content="After mastering input and output modeling like a Jedi, let’s see how we can describe API’s security with the OpenAPI specification’s.">
<meta name="twitter:image:src"    content="https://apihandyman.io/images/writing-openapi-swagger-specification-tutorial-part-6-defining-security/banner.png">

  
  
    
    
      















  
  
    
    
      








  
  













  
  


    
  




















  
  
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



    
  

  
    
    
      










  
  















  
  


    
  

  

  
    
    
      








  
  













  
  


    
  

  

  

  
    
    
      










  
  















  
  


    
  

  
    
    
      












  
  
    
    
  
    
    
      










  
  















  
  


    
  
    
    
      










  
  















  
  


    
  
    
    
  

















  
  


    
  

  
    
    
      












  
  
    
    
  
    
    
  
    
    
      










  
  
    
    
  















  
  


    
  

















  
  


    
  

  
    
    
      










  
  
    
    
  















  
  


    
  

  

  
    
    
      










  
  
    
    
      








  
  













  
  


    
  















  
  


    
  

  

  

  

  
    
    
      









  
  














  
  


    
  


  
  
    
    
      















  
  
    
    
      








  
  













  
  


    
  




















  
  
<link rel="stylesheet" href="/css/bootstrap.min.css">



    
  

  
    
    
      










  
  















  
  
<link rel="stylesheet" href="/css/anchors.css">



    
  

  

  
    
    
      








  
  













  
  


    
  

  

  

  
    
    
      










  
  















  
  
<link rel="stylesheet" href="/css/main.css">



    
  

  
    
    
      












  
  
    
    
  
    
    
      










  
  















  
  
<link rel="stylesheet" href="/css/prism.css">



    
  
    
    
      










  
  















  
  
<link rel="stylesheet" href="/css/asciinema-player.css">



    
  
    
    
  

















  
  
<link rel="stylesheet" href="/css/code.css">



    
  

  
    
    
      












  
  
    
    
  
    
    
  
    
    
      










  
  
    
    
  















  
  


    
  

















  
  
<link rel="stylesheet" href="/css/bash.css">



    
  

  
    
    
      










  
  
    
    
  















  
  


    
  

  

  
    
    
      










  
  
    
    
      








  
  













  
  


    
  















  
  


    
  

  

  

  

  
    
    
      









  
  














  
  


    
  


  <link rel="alternate" type="application/rss+xml" title="API Handyman" href="/feed.xml">
</head>
  <body  data-spy="scroll" data-target="#toc">
    
<div class="main-navbar fixed-top  scrolled">
  <div class="container-lg">
    <nav class="navbar navbar-expand-lg">
      <a class="navbar-brand" href="/">API Handyman</a>
      
      <button class="navbar-toggler left-column-hider" type="button" data-toggle="collapse" data-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <img class="btn-icon" src="/images/commons/icons/menu.svg" >
      </button>
      <div class="collapse navbar-collapse flex-grow-1" id="navbarNav">
        <div class="navbar-nav">
          <li class="nav-item dropdown dropdown-blog d-desktop-only">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownBlog" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Blog
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownBlog">
              <a class="dropdown-item" href="/blog">All content</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="/posts">Posts</a>
              <a class="dropdown-item" href="/talks">Talks & Podcasts</a>
            </div>
          </li>
          <a class="nav-item nav-link d-mobile-only" href="/Blog">Blog</a>
          <a class="nav-item nav-link nav-link-sub d-mobile-only" href="/posts">Posts</a>
          <a class="nav-item nav-link nav-link-sub d-mobile-only" href="/talks">Talks & Podcasts</a>
          <a class="nav-item nav-link" href="/toolbox">Toolbox</a>
          <a class="nav-item nav-link" href="/about">About</a>
          <div class="form-search">
    <input class="input-search" type="search" name="q" placeholder="Search" aria-label="Search">
    <button class="btn-search"><?xml version="1.0" encoding="UTF-8"?>
<svg width="26" height="26" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
 <path d="m85.207 79.375l-21.664-21.668c3.332-4.375 5.207-10 5.207-16.043 0-15-12.082-27.082-27.082-27.082s-27.086 12.086-27.086 27.086 12.082 27.082 27.082 27.082c6.043 0 11.457-1.875 16.043-5.207l21.668 21.668c0.83203 0.83203 1.875 1.25 2.918 1.25s2.082-0.41797 2.918-1.25c1.6641-1.668 1.6641-4.168-0.003907-5.8359zm-43.539-18.957c-10.418 0-18.75-8.332-18.75-18.75s8.332-18.75 18.75-18.75 18.75 8.332 18.75 18.75c0 10.414-8.3359 18.75-18.75 18.75z"/>
</svg>
</button>
</div>
          <a class="nav-item-book left-column-hider d-mobile-only" data-toggle="modal" data-target="#bookModal" role="button" ><div class="img"></div></a>
        </div>
      </div>
      
    </nav> <!-- class="navbar navbar-expand-md" -->
  </div> <!--  class="container" -->
</div> <!-- class="main-navbar fixed-top  scrolled" -->
    <div class="page-content-container">
      















  <div class="row row-banner-small row-banner-small-">
    <div class="banner-small-container">
      <div class="banner-small-column-main">
        <img src="https://apihandyman.io/images/writing-openapi-swagger-specification-tutorial-part-6-defining-security/banner.png" class="img-fluid" alt="">
      </div>
    </div>
  </div>

<div class="row row-page-content">
  <div class="container-fluid container-lg">
    <div class="fade modal left-menu-hider left-menu-modal d-mobile-only"></div>
    <div class="row">
      
      <div class="page-column-left left-menu left-menu-hider">
        <div class="page-column-left-container">
          



<div class="left-book-ad left-book-ad-border d-desktop-only">
  <img src="/images/commons/book/book-left-menu-cropped.png" class="card-img" alt="The Design of Web APIs book cover">
  <div class="card-img-overlay message-cropped">
    <a class="stretched-link" data-toggle="modal" data-target="#bookModal" role="button" >
      <p class="card-text">Special offer on my book</p>
    </a>
  </div>
</div>
<a class="left-book-ad-small left-menu-hider d-mobile-only" data-toggle="modal" data-target="#bookModal" role="button">
  Special offer on my book
  <img src="/images/commons/book/title.png" class="img-fluid" alt="The Design of Web APIs book">
</a>

  
  <div class="nav-item dropdown dropright">
    <a class="nav-link dropdown-toggle series-title text-wrap" href="#" id="navbarSeriesDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      Series
    </a>
    
<div class="dropdown-menu dropdown-menu-series rounded-0" aria-labelledby="navbarSerieDropdown">
  <div class="dropdown-header">Writing OpenAPI (Swagger) Specification Tutorial</div>
  <div class="dropdown-divider"></div>
  
  
    
   <a class="dropdown-item selectable text-wrap" href="/writing-openapi-swagger-specification-tutorial-part-1-introduction/">1 - Introduction</a>
  

    
   <a class="dropdown-item selectable text-wrap" href="/writing-openapi-swagger-specification-tutorial-part-2-the-basics/">2 - The basics</a>
  

    
   <a class="dropdown-item selectable text-wrap" href="/writing-openapi-swagger-specification-tutorial-part-3-simplifying-specification-file/">3 - Simplifying specification file</a>
  

    
   <a class="dropdown-item selectable text-wrap" href="/writing-openapi-swagger-specification-tutorial-part-4-advanced-data-modeling/">4 - Advanced Data</a>
  

    
   <a class="dropdown-item selectable text-wrap" href="/writing-openapi-swagger-specification-tutorial-part-5-advanced-input-and-output-modeling/">5 - Advanced Input And Output Modeling</a>
  

    
    <a class="dropdown-item active disabled text-wrap">6 - Defining Security</a>
  

    
   <a class="dropdown-item selectable text-wrap" href="/writing-openapi-swagger-specification-tutorial-part-7-documentation/">7 - Documentation</a>
  

    
   <a class="dropdown-item selectable text-wrap" href="/writing-openapi-swagger-specification-tutorial-part-8-splitting-specification-file/">8 - Splitting specification file</a>
  

    
   <a class="dropdown-item selectable text-wrap" href="/writing-openapi-swagger-specification-tutorial-part-9-extending-the-openapi-specification/">9 - Extending the OpenAPI specification</a>
  


</div>
  </div>
  
  <div class="flex-grow-1 overflow-auto m-0 left-menu-toggler" id="scrollable-toc">
    





  <nav class="nav flex-column" id="toc">
  
    
    
    
    
      
    
    
    
    
      
    
    
    
    
    
    
    
    
    
    
  
    
    
    
    
      
    
    
    
    
      
    
    
    
    
      
    
    
    
    
    
    
    
    
    
    
      
      
        
          <a class="nav-link toc-level-1" href="#security-definitions">Security definitions</a>
          
      
      
    
  
    
    
    
    
    
    
    
    
    
    
      
      
        <nav class="nav flex-column rounded-0">
          <a class="nav-link toc-level-2" href="#basic-authentication">Basic Authentication</a>
      
      
    
  
    
    
    
    
    
    
    
    
    
    
      
      
        
          <a class="nav-link toc-level-2" href="#api-key">API Key</a>
          
      
      
    
  
    
    
    
    
    
    
    
    
    
    
      
      
        
          <a class="nav-link toc-level-2" href="#oauth-2">Oauth 2</a>
          
      
      
    
  
    
    
    
    
      
    
    
    
    
      
    
    
    
    
    
    
    
    
    
    
      
      
        
        </nav>
          <a class="nav-link toc-level-1" href="#using-security-definitions">Using security definitions</a>
        
      
      
    
  
    
    
    
    
    
    
    
    
    
    
      
      
        <nav class="nav flex-column rounded-0">
          <a class="nav-link toc-level-2" href="#basic-authentication-1">Basic Authentication</a>
      
      
    
  
    
    
    
    
      
    
    
    
    
      
    
    
    
    
    
    
    
    
    
    
      
      
        
          <a class="nav-link toc-level-2" href="#api-key-1">API Key</a>
          
      
      
    
  
    
    
    
    
      
    
    
    
    
      
    
    
    
    
    
    
    
    
    
    
      
      
        
          <a class="nav-link toc-level-2" href="#oauth-2-1">Oauth 2</a>
          
      
      
    
  
    
    
    
    
      
    
    
    
    
      
    
    
    
    
    
    
    
    
    
    
      
      
        
        </nav>
          <a class="nav-link toc-level-1" href="#using-multiple-security-types">Using multiple security types</a>
        
      
      
    
  
    
    
    
    
    
    
    
    
    
    
      
      
        <nav class="nav flex-column rounded-0">
          <a class="nav-link toc-level-2" href="#security-definitions-1">Security definitions</a>
      
      
    
  
    
    
    
    
    
    
    
    
    
    
      
      
        
          <a class="nav-link toc-level-2" href="#global-security">Global security</a>
          
      
      
    
  
    
    
    
    
    
    
    
    
    
    
      
      
        
          <a class="nav-link toc-level-2" href="#overriding-global-security">Overriding global security</a>
          
      
      
    
  
    
    
    
    
    
    
    
    
    
    
      
      
        
        </nav>
          <a class="nav-link toc-level-1" href="#conclusion">Conclusion</a>
        
      
      
    
  
  </nav>
  </div>

        </div>
      </div>
        
      
      <div class="page-column-main page-column-main-with-left">
        




















<div class="page-content-text anchors">
  
  
  
  
  
    
    
    <!-- First card with page title -->
    <div class="card-page-section page-section-title">
      <div class="body">
        
        <h5 class="surtitle">
Writing OpenAPI (Swagger) Specification Tutorial Series - Part 6
</h5>
        
        
        <h1 class="title">Defining Security</h1>
        
        
        <h6 class="subtitle">By Arnaud Lauret, May 22, 2016</h6>
        <hr/>
        
        <p>After mastering <a href="/writing-openapi-swagger-specification-tutorial-part-5-advanced-input-and-output-modeling/">input and output modeling</a> like a Jedi, let’s see how we can describe API’s security with the <a href="https://openapis.org/">OpenAPI specification’s</a>.<!--more--></p>

<div class="card series-toc">
  <div class="card-header series-toc-title">
    <h5 id="series">Writing OpenAPI (Swagger) Specification Tutorial Series</h5>
  </div>
  <div class="row series-toc_content">
    <div class="col-md-7 series-toc-summary">
      <div class="card-body">
        <p class="card-text">
This tutorial teaches everything about the OpenAPI 2.0 Specification (fka. as Swagger), most of what you'll read here can still be applied on version 3.

If you're a bit lost in the <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md">specification</a> (version 2 or 3), take a look at the <a href="http://openapi-map.apihandyman.io/?version=2.0)">OpenAPI Map</a>:
<div class="text-center">
      <figure class="figure">
        <a href="http://openapi-map.apihandyman.io/?version=2.0">
        <img src="/images/commons/openapi/openapi-map-v2.png" class="figure-img img-fluid" />
        </a>
        
      </figure>
    </div>
</p>
      </div>
    </div>
    <div class="col-md-5 series-toc-list">
      
      <ul class="list-group list-group-flush">
        
          
          <li class="list-group-item"><a href="/writing-openapi-swagger-specification-tutorial-part-1-introduction/">1 - Introduction</a></li>
          
        
          
          <li class="list-group-item"><a href="/writing-openapi-swagger-specification-tutorial-part-2-the-basics/">2 - The basics</a></li>
          
        
          
          <li class="list-group-item"><a href="/writing-openapi-swagger-specification-tutorial-part-3-simplifying-specification-file/">3 - Simplifying specification file</a></li>
          
        
          
          <li class="list-group-item"><a href="/writing-openapi-swagger-specification-tutorial-part-4-advanced-data-modeling/">4 - Advanced Data</a></li>
          
        
          
          <li class="list-group-item"><a href="/writing-openapi-swagger-specification-tutorial-part-5-advanced-input-and-output-modeling/">5 - Advanced Input And Output Modeling</a></li>
          
        
          
          <li class="list-group-item active">6 - Defining Security</li>
          
        
          
          <li class="list-group-item"><a href="/writing-openapi-swagger-specification-tutorial-part-7-documentation/">7 - Documentation</a></li>
          
        
          
          <li class="list-group-item"><a href="/writing-openapi-swagger-specification-tutorial-part-8-splitting-specification-file/">8 - Splitting specification file</a></li>
          
        
          
          <li class="list-group-item"><a href="/writing-openapi-swagger-specification-tutorial-part-9-extending-the-openapi-specification/">9 - Extending the OpenAPI specification</a></li>
          
        
        
      </ul>
    </div>
  </div>
</div>

<p>In previous parts we’ve learned to write efficiently highly accurate interface description, in this seventh part we’ll learn how to describe how an API is secured.</p>


        
      </div>
    </div><!-- First card with page title END -->
      
    
  
    
    
    <!-- Next cards -->
    <div class="card-page-section page-section-not-title">
      <div class="card-body">
      
        <h1 id="security-definitions">Security definitions</h1>
<p>Following (almost) the same principle used with <code>parameters</code> and <code>definitions</code>, security can be defined and then used on different levels.
Security definition takes place on specification’s root level in <code>securityDefinition</code> section. It contains a list of named security definitions. Each definition can be of type:</p>

<ul>
  <li><code>basic</code> for Basic Authentication</li>
  <li><code>apiKey</code> when using an API key to secure the API</li>
  <li><code>oauth2</code> for Oauth 2</li>
</ul>

<h2 id="basic-authentication">Basic Authentication</h2>

<p>To define a <code>basic</code> security it’s fairly easy, we only have to set its <code>type</code> to <code>basic</code>:</p>

<div class="card card-code text-white bg-dark border-dark">
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code file controls">
          <a role="button" class="btn btn-secondary border-0 rounded-0" aria-label="download file" target="_blank" href="/code/writing-openapi-swagger-specification-tutorial/simple_openapi_specification_17_defining_security_basic.yaml" data-toggle="tooltip" data-placement="top" title="Download"><img class="btn-icon" src="/images/commons/icons/download.svg" /></a>
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-yaml line-numbers code-copy" data-start="17"><code class="code-block">securityDefinitions:
  UserSecurity:
    type: basic
  AdminSecurity:
    type: basic
  MediaSecurity:
    type: basic
</code></pre>
  </div>
</div>

<p>In this example we have defined three security definitions (<code>UserSecurity</code>, <code>AdminSecurity</code> and <code>MediaSecurity</code>), each of them is of <code>basic</code> type.</p>

<h2 id="api-key">API Key</h2>

<p>To define an <code>apiKey</code> security we have to:</p>

<ul>
  <li>Set <code>type</code> to <code>apiKey</code></li>
  <li>Indicate where the API ley is located with <code>in</code>. An API can be in a <code>header</code> or a <code>query</code> parameter</li>
  <li>And then give the parameter’s <code>name</code></li>
</ul>

<div class="card card-code text-white bg-dark border-dark">
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code file controls">
          <a role="button" class="btn btn-secondary border-0 rounded-0" aria-label="download file" target="_blank" href="/code/writing-openapi-swagger-specification-tutorial/simple_openapi_specification_18_defining_security_apikey.yaml" data-toggle="tooltip" data-placement="top" title="Download"><img class="btn-icon" src="/images/commons/icons/download.svg" /></a>
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-yaml line-numbers code-copy" data-start="17"><code class="code-block">securityDefinitions:
  UserSecurity:
    type: apiKey
    in: header
    name: SIMPLE-API-KEY
  AdminSecurity:
    type: apiKey
    in: header
    name: ADMIN-API-KEY
  MediaSecurity:
    type: apiKey
    in: query
    name: media-api-key
</code></pre>
  </div>
</div>

<p>In this example, we have defined three security definitions of <code>apiKey</code> type:</p>

<ul>
  <li><code>UserSecurity</code> uses a <code>header</code> parameter named <code>SIMPLE-API-KEY</code></li>
  <li><code>AdminSecurity</code> uses a <code>header</code> parameter named <code>ADMIN-API-KEY</code></li>
  <li><code>MediaSecurity</code> uses a <code>query</code> parameter named <code>media-api-key</code></li>
</ul>

<h2 id="oauth-2">Oauth 2</h2>

<h3 id="flow-and-urls">Flow and URLs</h3>
<p>When defining an <code>oauth2</code> security definition, we can define the Oauth2 <code>flow</code> used and corresponding <code>authorizationUrl</code> and/or <code>tokenUrl</code> depending on the chosen flow:</p>

<div class="table-wrapper"><table></div>
  <thead>
    <tr>
      <th>Flow</th>
      <th>Required URLs</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>implicit</td>
      <td>authorizationUrl</td>
    </tr>
    <tr>
      <td>password</td>
      <td>tokenUrl</td>
    </tr>
    <tr>
      <td>application</td>
      <td>tokenUrl</td>
    </tr>
    <tr>
      <td>accessCode</td>
      <td>authorizationUrl and tokenUrl</td>
    </tr>
  </tbody>
</table></div>

<div class="card card-code text-white bg-dark border-dark">
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code file controls">
          <a role="button" class="btn btn-secondary border-0 rounded-0" aria-label="download file" target="_blank" href="/code/writing-openapi-swagger-specification-tutorial/simple_openapi_specification_19_defining_security_oauth2.yaml" data-toggle="tooltip" data-placement="top" title="Download"><img class="btn-icon" src="/images/commons/icons/download.svg" /></a>
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-yaml line-numbers code-copy" data-start="17"><code class="code-block">securityDefinitions:
  OauthSecurity:
    type: oauth2
    flow: accessCode
    authorizationUrl: 'https://oauth.simple.api/authorization'
    tokenUrl: 'https://oauth.simple.api/token'
</code></pre>
  </div>
</div>

<p>In this example we have defined a <code>OauthSecurity</code> security definition of <code>oauth2</code> type using an <code>accessCode</code> flow with an authorizationUrl and a tokenUrl.</p>

<h3 id="scopes">Scopes</h3>
<p>We can also define <code>scopes</code> by using a hashmap, the key is the scope’s name and the value is its description.</p>

<div class="card card-code text-white bg-dark border-dark">
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code file controls">
          <a role="button" class="btn btn-secondary border-0 rounded-0" aria-label="download file" target="_blank" href="/code/writing-openapi-swagger-specification-tutorial/simple_openapi_specification_19_defining_security_oauth2.yaml" data-toggle="tooltip" data-placement="top" title="Download"><img class="btn-icon" src="/images/commons/icons/download.svg" /></a>
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-yaml line-numbers code-copy" data-line="7-10" data-start="17"><code class="code-block">securityDefinitions:
  OauthSecurity:
    type: oauth2
    flow: accessCode
    authorizationUrl: 'https://oauth.simple.api/authorization'
    tokenUrl: 'https://oauth.simple.api/token'
    scopes:
      admin: Admin scope
      user: User scope
      media: Media scope
</code></pre>
  </div>
</div>

<p>In this example, we’ve added three scopes (<code>admin</code>, <code>user</code> and <code>media</code>) to our <code>OauthSecurity</code> security definition</p>


      </div>
    </div><!-- Next cards END -->
    
  
    
    
    <!-- Next cards -->
    <div class="card-page-section page-section-not-title">
      <div class="card-body">
      
        <h1 id="using-security-definitions">Using security definitions</h1>

<p>Once we have described security definitions in <code>securityDefinition</code> we can apply them to the overall API or to specific operations with the <code>security</code> sections.
When we apply a security definition to an operation, it overrides API security.</p>

<h2 id="basic-authentication-1">Basic Authentication</h2>
<p>Let’s see how we can use a <code>basic</code> security definition.</p>

<h3 id="api-level">API level</h3>
<p>In this example the security definition which apply to ALL API operations is <code>UserSecurity</code>:</p>

<div class="card card-code text-white bg-dark border-dark">
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code file controls">
          <a role="button" class="btn btn-secondary border-0 rounded-0" aria-label="download file" target="_blank" href="/code/writing-openapi-swagger-specification-tutorial/simple_openapi_specification_17_defining_security_basic.yaml" data-toggle="tooltip" data-placement="top" title="Download"><img class="btn-icon" src="/images/commons/icons/download.svg" /></a>
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-yaml line-numbers code-copy" data-line="9-10" data-start="17"><code class="code-block">securityDefinitions:
  UserSecurity:
    type: basic
  AdminSecurity:
    type: basic
  MediaSecurity:
    type: basic

security:
  - UserSecurity: [] 

paths:
  /persons:
</code></pre>
  </div>
</div>

<h3 id="operation-level">Operation level</h3>
<p>As <code>GET /persons</code> operation do not define a <code>security</code>, it’s the <code>UserSecurity</code> defined on top level which applies:</p>

<div class="card card-code text-white bg-dark border-dark">
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code file controls">
          <a role="button" class="btn btn-secondary border-0 rounded-0" aria-label="download file" target="_blank" href="/code/writing-openapi-swagger-specification-tutorial/simple_openapi_specification_17_defining_security_basic.yaml" data-toggle="tooltip" data-placement="top" title="Download"><img class="btn-icon" src="/images/commons/icons/download.svg" /></a>
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-yaml line-numbers code-copy" data-line="2,5" data-start="28"><code class="code-block">paths:
  /persons:
    parameters:
      - $ref: '#/parameters/userAgent'
    get:
      summary: Gets some persons
      description: Returns a list containing all persons. The list supports paging.
      parameters:
        - $ref: '#/parameters/pageSize'
        - $ref: '#/parameters/pageNumber'
        - $ref: '#/parameters/includeNonVerifiedUsers'
        - $ref: '#/parameters/sortPersons'
</code></pre>
  </div>
</div>

<p>On <code>POST /persons</code> operation, the top level security is overridden by <code>AdminSecurity</code>:</p>

<div class="card card-code text-white bg-dark border-dark">
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code file controls">
          <a role="button" class="btn btn-secondary border-0 rounded-0" aria-label="download file" target="_blank" href="/code/writing-openapi-swagger-specification-tutorial/simple_openapi_specification_17_defining_security_basic.yaml" data-toggle="tooltip" data-placement="top" title="Download"><img class="btn-icon" src="/images/commons/icons/download.svg" /></a>
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-yaml line-numbers code-copy" data-line="4-5" data-start="55"><code class="code-block">    post:
      summary: Creates a person
      description: Adds a new person to the persons list.
      security:
        - AdminSecurity: []
</code></pre>
  </div>
</div>

<p>On <code>POST /images</code> operation, the top level security is also overridden, but this time it’s by <code>MediaSecurity</code>:</p>

<div class="card card-code text-white bg-dark border-dark">
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code file controls">
          <a role="button" class="btn btn-secondary border-0 rounded-0" aria-label="download file" target="_blank" href="/code/writing-openapi-swagger-specification-tutorial/simple_openapi_specification_17_defining_security_basic.yaml" data-toggle="tooltip" data-placement="top" title="Download"><img class="btn-icon" src="/images/commons/icons/download.svg" /></a>
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-yaml line-numbers code-copy" data-line="1,4,6-7" data-start="246"><code class="code-block">  /images:
    parameters:
      - $ref: '#/parameters/userAgent'
    post:
      summary: Uploads an image
      security:
        - MediaSecurity: []
</code></pre>
  </div>
</div>

<h2 id="api-key-1">API Key</h2>
<p>We can do exactly the same things with an API key security definition.</p>

<h3 id="api-level-1">API level</h3>
<p>In this example the security definition which apply to ALL API operations is <code>UserSecurity</code>:</p>

<div class="card card-code text-white bg-dark border-dark">
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code file controls">
          <a role="button" class="btn btn-secondary border-0 rounded-0" aria-label="download file" target="_blank" href="/code/writing-openapi-swagger-specification-tutorial/simple_openapi_specification_18_defining_security_apikey.yaml" data-toggle="tooltip" data-placement="top" title="Download"><img class="btn-icon" src="/images/commons/icons/download.svg" /></a>
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-yaml line-numbers code-copy" data-line="15-16" data-start="17"><code class="code-block">securityDefinitions:
  UserSecurity:
    type: apiKey
    in: header
    name: SIMPLE-API-KEY
  AdminSecurity:
    type: apiKey
    in: header
    name: ADMIN-API-KEY
  MediaSecurity:
    type: apiKey
    in: query
    name: media-api-key

security:
  - UserSecurity: [] 

paths:
  /persons:
</code></pre>
  </div>
</div>

<h3 id="operation-level-1">Operation level</h3>
<p>As <code>GET /persons</code> operation do not define a <code>security</code>, it’s the <code>UserSecurity</code> defined on top level which applies:</p>

<div class="card card-code text-white bg-dark border-dark">
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code file controls">
          <a role="button" class="btn btn-secondary border-0 rounded-0" aria-label="download file" target="_blank" href="/code/writing-openapi-swagger-specification-tutorial/simple_openapi_specification_18_defining_security_apikey.yaml" data-toggle="tooltip" data-placement="top" title="Download"><img class="btn-icon" src="/images/commons/icons/download.svg" /></a>
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-yaml line-numbers code-copy" data-line="2,5" data-start="34"><code class="code-block">paths:
  /persons:
    parameters:
      - $ref: '#/parameters/userAgent'
    get:
      summary: Gets some persons
      description: Returns a list containing all persons. The list supports paging.
      parameters:
        - $ref: '#/parameters/pageSize'
        - $ref: '#/parameters/pageNumber'
        - $ref: '#/parameters/includeNonVerifiedUsers'
        - $ref: '#/parameters/sortPersons'
</code></pre>
  </div>
</div>

<p>On <code>POST /persons</code> operation, the top level security is overridden by <code>AdminSecurity</code>:</p>

<div class="card card-code text-white bg-dark border-dark">
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code file controls">
          <a role="button" class="btn btn-secondary border-0 rounded-0" aria-label="download file" target="_blank" href="/code/writing-openapi-swagger-specification-tutorial/simple_openapi_specification_18_defining_security_apikey.yaml" data-toggle="tooltip" data-placement="top" title="Download"><img class="btn-icon" src="/images/commons/icons/download.svg" /></a>
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-yaml line-numbers code-copy" data-line="1,4,5" data-start="61"><code class="code-block">    post:
      summary: Creates a person
      description: Adds a new person to the persons list.
      security:
        - AdminSecurity: []
</code></pre>
  </div>
</div>

<p>On <code>POST /images</code> operation, the top level security is also overridden, but this time it’s by <code>MediaSecurity</code>:</p>

<div class="card card-code text-white bg-dark border-dark">
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code file controls">
          <a role="button" class="btn btn-secondary border-0 rounded-0" aria-label="download file" target="_blank" href="/code/writing-openapi-swagger-specification-tutorial/simple_openapi_specification_18_defining_security_apikey.yaml" data-toggle="tooltip" data-placement="top" title="Download"><img class="btn-icon" src="/images/commons/icons/download.svg" /></a>
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-yaml line-numbers code-copy" data-line="1,4,6-7" data-start="252"><code class="code-block">  /images:
    parameters:
      - $ref: '#/parameters/userAgent'
    post:
      summary: Uploads an image
      security:
        - MediaSecurity: []
</code></pre>
  </div>
</div>

<h2 id="oauth-2-1">Oauth 2</h2>
<p>With an <code>oauth2</code> the principle is the same but you can also define which scope(s) you use.</p>

<h3 id="api-level-2">API level</h3>
<p>In this example the security definition which apply to ALL API operations is <code>OauthSecurity</code> with the <code>user</code> scope:</p>

<div class="card card-code text-white bg-dark border-dark">
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code file controls">
          <a role="button" class="btn btn-secondary border-0 rounded-0" aria-label="download file" target="_blank" href="/code/writing-openapi-swagger-specification-tutorial/simple_openapi_specification_19_defining_security_oauth2.yaml" data-toggle="tooltip" data-placement="top" title="Download"><img class="btn-icon" src="/images/commons/icons/download.svg" /></a>
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-yaml line-numbers code-copy" data-line="12-14" data-start="17"><code class="code-block">securityDefinitions:
  OauthSecurity:
    type: oauth2
    flow: accessCode
    authorizationUrl: 'https://oauth.simple.api/authorization'
    tokenUrl: 'https://oauth.simple.api/token'
    scopes:
      admin: Admin scope
      user: User scope
      media: Media scope

security:
  - OauthSecurity:
    - user

paths:
  /persons:
</code></pre>
  </div>
</div>

<h3 id="operation-level-2">Operation level</h3>
<p>As <code>GET /persons</code> operation do not define a <code>security</code>, it’s the <code>OauthSecurity</code> with <code>user</code>scope defined on top level which applies:</p>

<div class="card card-code text-white bg-dark border-dark">
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code file controls">
          <a role="button" class="btn btn-secondary border-0 rounded-0" aria-label="download file" target="_blank" href="/code/writing-openapi-swagger-specification-tutorial/simple_openapi_specification_19_defining_security_oauth2.yaml" data-toggle="tooltip" data-placement="top" title="Download"><img class="btn-icon" src="/images/commons/icons/download.svg" /></a>
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-yaml line-numbers code-copy" data-line="2,5" data-start="32"><code class="code-block">paths:
  /persons:
    parameters:
      - $ref: '#/parameters/userAgent'
    get:
      summary: Gets some persons
      description: Returns a list containing all persons. The list supports paging.
      parameters:
        - $ref: '#/parameters/pageSize'
        - $ref: '#/parameters/pageNumber'
        - $ref: '#/parameters/includeNonVerifiedUsers'
        - $ref: '#/parameters/sortPersons'
</code></pre>
  </div>
</div>

<p>On <code>POST /persons</code> operation, the top level security scope is overridden by <code>admin</code>:</p>

<div class="card card-code text-white bg-dark border-dark">
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code file controls">
          <a role="button" class="btn btn-secondary border-0 rounded-0" aria-label="download file" target="_blank" href="/code/writing-openapi-swagger-specification-tutorial/simple_openapi_specification_19_defining_security_oauth2.yaml" data-toggle="tooltip" data-placement="top" title="Download"><img class="btn-icon" src="/images/commons/icons/download.svg" /></a>
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-yaml line-numbers code-copy" data-line="1,4-6" data-start="59"><code class="code-block">    post:
      summary: Creates a person
      description: Adds a new person to the persons list.
      security:
        - OauthSecurity:
          - admin
</code></pre>
  </div>
</div>

<p>On <code>POST /images</code> operation, the top level security is also overridden, but this time it’s by <code>media</code>:</p>

<div class="card card-code text-white bg-dark border-dark">
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code file controls">
          <a role="button" class="btn btn-secondary border-0 rounded-0" aria-label="download file" target="_blank" href="/code/writing-openapi-swagger-specification-tutorial/simple_openapi_specification_19_defining_security_oauth2.yaml" data-toggle="tooltip" data-placement="top" title="Download"><img class="btn-icon" src="/images/commons/icons/download.svg" /></a>
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-yaml line-numbers code-copy" data-line="1,4,6-8" data-start="252"><code class="code-block">  /images:
    parameters:
      - $ref: '#/parameters/userAgent'
    post:
      summary: Uploads an image
      security:
        - OauthSecurity:
          - media
</code></pre>
  </div>
</div>


      </div>
    </div><!-- Next cards END -->
    
  
    
    
    <!-- Next cards -->
    <div class="card-page-section page-section-not-title">
      <div class="card-body">
      
        <h1 id="using-multiple-security-types">Using multiple security types</h1>
<p>It’s not mandatory to define a single type of security definition and use only one at a time.
The examples below show how we can define security definitions of different types and use more than one on operations.</p>

<h2 id="security-definitions-1">Security definitions</h2>
<p>Here we define there different types of security:</p>

<div class="card card-code text-white bg-dark border-dark">
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code file controls">
          <a role="button" class="btn btn-secondary border-0 rounded-0" aria-label="download file" target="_blank" href="/code/writing-openapi-swagger-specification-tutorial/simple_openapi_specification_20_defining_security_multiple.yaml" data-toggle="tooltip" data-placement="top" title="Download"><img class="btn-icon" src="/images/commons/icons/download.svg" /></a>
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-yaml line-numbers code-copy" data-start="17"><code class="code-block">securityDefinitions:
  OauthSecurity:
    type: oauth2
    flow: accessCode
    authorizationUrl: 'https://oauth.simple.api/authorization'
    tokenUrl: 'https://oauth.simple.api/token'
    scopes:
      admin: Admin scope
      user: User scope
  MediaSecurity:
    type: apiKey
    in: query
    name: media-api-key
  LegacySecurity:
    type: basic
</code></pre>
  </div>
</div>

<h2 id="global-security">Global security</h2>
<p>Then we choose to apply both of them globally:</p>

<div class="card card-code text-white bg-dark border-dark">
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code file controls">
          <a role="button" class="btn btn-secondary border-0 rounded-0" aria-label="download file" target="_blank" href="/code/writing-openapi-swagger-specification-tutorial/simple_openapi_specification_20_defining_security_multiple.yaml" data-toggle="tooltip" data-placement="top" title="Download"><img class="btn-icon" src="/images/commons/icons/download.svg" /></a>
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-yaml line-numbers code-copy" data-start="33"><code class="code-block">security:
  - OauthSecurity:
    - user
  - LegacySecurity: []
</code></pre>
  </div>
</div>

<p>It means that a consumer can call any operation (which do not override security) with one of those two security types.</p>

<h2 id="overriding-global-security">Overriding global security</h2>
<p>As <code>GET /persons</code> operation do not define a <code>security</code>, it’s the Oauth 2 <code>OauthSecurity</code> with <code>user</code>scope OR the basic authentication <code>LegacySecurity</code> defined on top level which applies:</p>

<div class="card card-code text-white bg-dark border-dark">
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code file controls">
          <a role="button" class="btn btn-secondary border-0 rounded-0" aria-label="download file" target="_blank" href="/code/writing-openapi-swagger-specification-tutorial/simple_openapi_specification_20_defining_security_multiple.yaml" data-toggle="tooltip" data-placement="top" title="Download"><img class="btn-icon" src="/images/commons/icons/download.svg" /></a>
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-yaml line-numbers code-copy" data-line="2,5" data-start="38"><code class="code-block">paths:
  /persons:
    parameters:
      - $ref: '#/parameters/userAgent'
    get:
      summary: Gets some persons
      description: Returns a list containing all persons. The list supports paging.
      parameters:
        - $ref: '#/parameters/pageSize'
        - $ref: '#/parameters/pageNumber'
        - $ref: '#/parameters/includeNonVerifiedUsers'
        - $ref: '#/parameters/sortPersons'
</code></pre>
  </div>
</div>

<p>On <code>POST /persons</code> operation, the top level security scope Oauth 2 <code>OauthSecurity</code> is overridden by <code>admin</code> and consumer can also still use the basic authentication <code>LegacySecurity</code>:</p>

<div class="card card-code text-white bg-dark border-dark">
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code file controls">
          <a role="button" class="btn btn-secondary border-0 rounded-0" aria-label="download file" target="_blank" href="/code/writing-openapi-swagger-specification-tutorial/simple_openapi_specification_20_defining_security_multiple.yaml" data-toggle="tooltip" data-placement="top" title="Download"><img class="btn-icon" src="/images/commons/icons/download.svg" /></a>
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-yaml line-numbers code-copy" data-line="1,4-7" data-start="65"><code class="code-block">    post:
      summary: Creates a person
      description: Adds a new person to the persons list.
      security:
        - OauthSecurity:
          - admin
        - LegacySecurity: []
</code></pre>
  </div>
</div>

<p>On <code>POST /images</code> operation, the top level security is fully overridden by the API Key <code>MediaSecurity</code>:</p>

<div class="card card-code text-white bg-dark border-dark">
  <div class="card-header">
    <div class="row m-0">
      <div class="col align-self-center">
        <p class="m-0 title"></p>
      </div>
      <div class="col col-auto pr-0">
        <div class="btn-group" role="group" aria-label="code file controls">
          <a role="button" class="btn btn-secondary border-0 rounded-0" aria-label="download file" target="_blank" href="/code/writing-openapi-swagger-specification-tutorial/simple_openapi_specification_20_defining_security_multiple.yaml" data-toggle="tooltip" data-placement="top" title="Download"><img class="btn-icon" src="/images/commons/icons/download.svg" /></a>
          <a role="button" class="btn btn-secondary code-copy-btn border-0 rounded-0" aria-label="copy" data-toggle="tooltip" data-placement="top" title="Copy"><img class="btn-icon" src="/images/commons/icons/copy.svg" /></a>
          
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <pre class="language-yaml line-numbers code-copy" data-line="1,4,6-7" data-start="260"><code class="code-block">  /images:
    parameters:
      - $ref: '#/parameters/userAgent'
    post:
      summary: Uploads an image
      security:
        - MediaSecurity: []
</code></pre>
  </div>
</div>


      </div>
    </div><!-- Next cards END -->
    
  
    
    
    <!-- Next cards -->
    <div class="card-page-section page-section-not-title">
      <div class="card-body">
      
        <h1 id="conclusion">Conclusion</h1>
<p>You now have mastered security. With this new post you are now a full expert when it comes to describe an API interface with the OpenAPI specification. But an interface contract alone may not be easy to understand without some explainations. In <a href="/writing-openapi-swagger-specification-tutorial-part-7-documentation/">next post</a> we’ll learn how to document this interface description to ease its understanding.</p>

      </div>
    </div><!-- Next cards END -->
    
  
  
</div><!-- class="page-content-text"-->

      </div>
    </div>
  </div>
</div>

<div class="row row-page-bottom-nav nav-fixed-bottom">
  <div class="container-fluid container-lg">
    <nav class="nav-page " aria-label="Page navigation">
      <a class="nav-page-btn back-to-top d-none" aria-label="back to top" data-toggle="tooltip" data-placement="right" title="Back to top"><svg height='100px' width='100px' xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve"><g><polygon points="4.1,10 5.5,11.4 9,7.8 9,20 11,20 11,7.8 14.5,11.4 16,10 10,4  "></polygon><rect x="0" width="20" height="2"></rect></g></svg></a>
      
      <a class="nav-page-btn left-menu-toggler d-mobile-only" aria-label="table of content toggler" data-toggle="tooltip" data-placement="right" title="Table of content"><svg height='100px' width='100px'  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve"><g><rect x="0" y="2" width="4" height="4"></rect><rect x="0" y="8" width="4" height="4"></rect><rect x="0" y="14" width="4" height="4"></rect><rect x="6" y="3" width="14" height="2"></rect><rect x="6" y="9" width="14" height="2"></rect><rect x="6" y="15" width="14" height="2"></rect></g></svg></a>
      
    </nav>
  </div>
</div>


      <div class="row row-footer-margin">

</div>
<div class="row row-footer">
  <div class="container-fluid">
    <div class="cols-12">
      <div class="container footer-content">
        <div class="row align-items-end row-cols-1 row-cols-md-2">
          <div class="col d-flex justify-content-center mb-1 mb-md-4">
            <div class="icon"><a href="https://twitter.com/apihandyman" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/></svg></a></div>
            <div class="icon"><a href="https://www.linkedin.com/in/arnaudlauret" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg></a></div>
            <div class="icon"><a href="https://github.com/arno-di-loreto" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
            <div class="icon"><a href="/feed.xml" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z"/></svg></a></div>
          </div>
          <div class="col text-center">
            <a class="btn border-0 rounded-0 p-0" data-toggle="modal" data-target="#bookModal" role="button" ><img class="img-footer-book" src="/images/commons/book/book-footer.png"></a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="row row-footer-second">
  <div class="container-fluid">
    <div class="cols-12">
      <div class="container">
        <div class="row row-cols-1 row-cols-md-2">
          <div class="col col-footer-privacy mb-3 mb-md-0">
            <div class="icon privacy-link"><a href="/privacy"><svg height='100px' width='100px'  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M50.047,99.601c-27.306,0-49.521-22.212-49.521-49.521c0-18.929,11.074-36.458,28.214-44.65  c1.217-0.58,2.64-0.569,3.849,0.04c1.206,0.608,2.065,1.741,2.324,3.066c0.415,2.139,2.085,7.112,8.58,7.112  c4.537,0,6.696-2.453,7.705-4.517c0.905-1.838,2.969-2.811,4.967-2.316c1.995,0.495,3.378,2.305,3.323,4.359  c-0.085,3.344,0.842,6.343,2.483,8.033c2.176,2.23,5.94,2.379,10.952,0.581c1.832-0.66,3.88-0.023,5.016,1.559  c1.142,1.576,1.099,3.716-0.103,5.251c-1.906,2.436-2.086,6.014-0.467,9.335c1.923,3.949,5.775,6.305,10.304,6.305  c1.951,0,3.676-0.421,5.273-1.28c1.31-0.705,2.879-0.701,4.182,0.011c1.3,0.717,2.148,2.042,2.253,3.521l0.04,0.541  c0.074,1.013,0.146,2.019,0.146,3.049C99.567,77.389,77.354,99.601,50.047,99.601z M28.271,15.665  C16.59,23.079,9.266,36.118,9.266,50.08c0,22.49,18.294,40.782,40.781,40.782c21.588,0,39.313-16.864,40.697-38.108  c-1.003,0.148-2.025,0.223-3.07,0.223c-7.831,0-14.789-4.296-18.161-11.213c-1.59-3.267-2.216-6.731-1.908-10.021  c-0.248,0.006-0.491,0.012-0.734,0.012h-0.002c-4.461,0-8.316-1.542-11.154-4.449c-1.385-1.429-2.51-3.175-3.335-5.149  c-2.568,1.457-5.583,2.23-8.886,2.23C36.768,24.387,31.232,21.099,28.271,15.665z"></path><path d="M95.928,10.027c0,2.014-1.632,3.641-3.643,3.641c-2.012,0-3.641-1.627-3.641-3.641  c0-2.008,1.629-3.641,3.641-3.641C94.296,6.386,95.928,8.019,95.928,10.027z"></path><circle cx="28.686" cy="39.356" r="6.19"></circle><circle cx="33.175" cy="63.672" r="6.19"></circle><circle cx="55.873" cy="71.444" r="6.19"></circle><circle cx="53.093" cy="46.723" r="6.19"></circle><path d="M78.326,7.604c0,3.146-2.554,5.7-5.704,5.7c-3.148,0-5.702-2.554-5.702-5.7c0-3.152,2.554-5.707,5.702-5.707  C75.772,1.896,78.326,4.452,78.326,7.604z"></path><circle cx="93.014" cy="29.325" r="4.006"></circle></svg><span class="privacy-link-text">Privacy Policy & Settings<span></span></a></div>
          </div>
          <div class="col col-footer-copyright">
            &copy; 2015-2021 Arnaud Lauret
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
            <!-- Modal -->
      <div class="modal fade" id="bookModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-book" role="document">
          <div class="modal-content border-0">
            <div class="modal-body p-0">
              <div class="container-fluid p-0">
                <button type="button" class="close pr-2 pt-1" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
                <div class="row modal-book-cover-center"></div>
                <div class="row mb-3 mb-lg-0 ml-0 mr-0 pt-3 pt-md-0">
                  <div class="col col-lg-4 d-none d-md-block p-0">
                    <img class="img-fluid" src="/images/commons/book/book-modal.png"/>
                  </div>
                  <div class="col col-12 col-lg-8 pt-2 pt-lg-4 text-justify">
                    <p>Want to learn how to design simple, user friendly, secure and implementable APIs that do everything they should?</p>
                    <p>Use code <code class="book-discount-code text-copy" aria-label="copy discount code" data-toggle="tooltip" data-placement="top" title="" data-original-title="Click to copy">fcclauret</code> to get 37% off my book The Design of Web APIs (works also on any other Manning product!).</p>
                    <p class="text-center"><a href="http://bit.ly/designwebapis" target="_blank" class="btn btn-primary">Buy on manning.com</a></p>
                    <p class="text-muted pt-3 mb-0">Disclosure: the link above is an affiliated link, meaning, at no additional cost to you, I will earn a commission if you click through and make a purchase.</p>
                  </div> 
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      

<div class="privacy-message d-none fixed-bottom container-fluid bg-dark text-white p-3">
  <div class="container">
    <div class="row text-center pt-2 pb-3 d-block d-sm-block d-md-none">
      <div class="col">
        <span class="icon-inline privacy-message-icon" aria-label="cookie button icon"><svg height='100px' width='100px'  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M50.047,99.601c-27.306,0-49.521-22.212-49.521-49.521c0-18.929,11.074-36.458,28.214-44.65  c1.217-0.58,2.64-0.569,3.849,0.04c1.206,0.608,2.065,1.741,2.324,3.066c0.415,2.139,2.085,7.112,8.58,7.112  c4.537,0,6.696-2.453,7.705-4.517c0.905-1.838,2.969-2.811,4.967-2.316c1.995,0.495,3.378,2.305,3.323,4.359  c-0.085,3.344,0.842,6.343,2.483,8.033c2.176,2.23,5.94,2.379,10.952,0.581c1.832-0.66,3.88-0.023,5.016,1.559  c1.142,1.576,1.099,3.716-0.103,5.251c-1.906,2.436-2.086,6.014-0.467,9.335c1.923,3.949,5.775,6.305,10.304,6.305  c1.951,0,3.676-0.421,5.273-1.28c1.31-0.705,2.879-0.701,4.182,0.011c1.3,0.717,2.148,2.042,2.253,3.521l0.04,0.541  c0.074,1.013,0.146,2.019,0.146,3.049C99.567,77.389,77.354,99.601,50.047,99.601z M28.271,15.665  C16.59,23.079,9.266,36.118,9.266,50.08c0,22.49,18.294,40.782,40.781,40.782c21.588,0,39.313-16.864,40.697-38.108  c-1.003,0.148-2.025,0.223-3.07,0.223c-7.831,0-14.789-4.296-18.161-11.213c-1.59-3.267-2.216-6.731-1.908-10.021  c-0.248,0.006-0.491,0.012-0.734,0.012h-0.002c-4.461,0-8.316-1.542-11.154-4.449c-1.385-1.429-2.51-3.175-3.335-5.149  c-2.568,1.457-5.583,2.23-8.886,2.23C36.768,24.387,31.232,21.099,28.271,15.665z"></path><path d="M95.928,10.027c0,2.014-1.632,3.641-3.643,3.641c-2.012,0-3.641-1.627-3.641-3.641  c0-2.008,1.629-3.641,3.641-3.641C94.296,6.386,95.928,8.019,95.928,10.027z"></path><circle cx="28.686" cy="39.356" r="6.19"></circle><circle cx="33.175" cy="63.672" r="6.19"></circle><circle cx="55.873" cy="71.444" r="6.19"></circle><circle cx="53.093" cy="46.723" r="6.19"></circle><path d="M78.326,7.604c0,3.146-2.554,5.7-5.704,5.7c-3.148,0-5.702-2.554-5.702-5.7c0-3.152,2.554-5.707,5.702-5.707  C75.772,1.896,78.326,4.452,78.326,7.604z"></path><circle cx="93.014" cy="29.325" r="4.006"></circle></svg></span>
      </div>
    </div>
    <div class="row">
      <div class="col-auto align-self-center d-none d-sm-none d-md-block">
        <span class="icon-inline privacy-message-icon" aria-label="cookie button icon"><svg height='100px' width='100px'  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M50.047,99.601c-27.306,0-49.521-22.212-49.521-49.521c0-18.929,11.074-36.458,28.214-44.65  c1.217-0.58,2.64-0.569,3.849,0.04c1.206,0.608,2.065,1.741,2.324,3.066c0.415,2.139,2.085,7.112,8.58,7.112  c4.537,0,6.696-2.453,7.705-4.517c0.905-1.838,2.969-2.811,4.967-2.316c1.995,0.495,3.378,2.305,3.323,4.359  c-0.085,3.344,0.842,6.343,2.483,8.033c2.176,2.23,5.94,2.379,10.952,0.581c1.832-0.66,3.88-0.023,5.016,1.559  c1.142,1.576,1.099,3.716-0.103,5.251c-1.906,2.436-2.086,6.014-0.467,9.335c1.923,3.949,5.775,6.305,10.304,6.305  c1.951,0,3.676-0.421,5.273-1.28c1.31-0.705,2.879-0.701,4.182,0.011c1.3,0.717,2.148,2.042,2.253,3.521l0.04,0.541  c0.074,1.013,0.146,2.019,0.146,3.049C99.567,77.389,77.354,99.601,50.047,99.601z M28.271,15.665  C16.59,23.079,9.266,36.118,9.266,50.08c0,22.49,18.294,40.782,40.781,40.782c21.588,0,39.313-16.864,40.697-38.108  c-1.003,0.148-2.025,0.223-3.07,0.223c-7.831,0-14.789-4.296-18.161-11.213c-1.59-3.267-2.216-6.731-1.908-10.021  c-0.248,0.006-0.491,0.012-0.734,0.012h-0.002c-4.461,0-8.316-1.542-11.154-4.449c-1.385-1.429-2.51-3.175-3.335-5.149  c-2.568,1.457-5.583,2.23-8.886,2.23C36.768,24.387,31.232,21.099,28.271,15.665z"></path><path d="M95.928,10.027c0,2.014-1.632,3.641-3.643,3.641c-2.012,0-3.641-1.627-3.641-3.641  c0-2.008,1.629-3.641,3.641-3.641C94.296,6.386,95.928,8.019,95.928,10.027z"></path><circle cx="28.686" cy="39.356" r="6.19"></circle><circle cx="33.175" cy="63.672" r="6.19"></circle><circle cx="55.873" cy="71.444" r="6.19"></circle><circle cx="53.093" cy="46.723" r="6.19"></circle><path d="M78.326,7.604c0,3.146-2.554,5.7-5.704,5.7c-3.148,0-5.702-2.554-5.702-5.7c0-3.152,2.554-5.707,5.702-5.707  C75.772,1.896,78.326,4.452,78.326,7.604z"></path><circle cx="93.014" cy="29.325" r="4.006"></circle></svg></span>
      </div>
      <div class="col text-justify">
        By continuing to use this web site you agree with the API Handyman website privacy policy (effective date , June 28, 2020).
      </div>
      <div class="col-auto align-self-center d-none d-sm-none d-md-block">
          <a class="btn btn-primary" href="/privacy">Read privacy policy</a>
          <a class="btn btn-primary" onclick="javascript:acceptPrivacyPolicy()">Happy with that</a>
      </div>
    </div>
    <div class="row text-center pt-3 d-block d-sm-block d-md-none">
      <div class="col">
        <a class="btn btn-primary" href="/privacy">Read privacy policy</a>
        <a class="btn btn-primary" onclick="javascript:acceptPrivacyPolicy()">Happy with that</a>
      </div>
    </div>
  </div>
</div>
    </div>
    
  
    
    
      















  
  
    
    
      








  
  













  
  
<script type="text/javascript" src="/js/jquery-3.4.1.slim.min.js" ></script>



    
  




















  
  
<script type="text/javascript" src="/js/popper.min.js" ></script>
<script type="text/javascript" src="/js/bootstrap.min.js" ></script>



    
  

  
    
    
      










  
  















  
  
<script type="text/javascript" src="/js/anchor.min.js" ></script>
<script type="text/javascript" src="/js/anchors.js" ></script>



    
  

  

  
    
    
      








  
  













  
  
<script type="text/javascript" src="/js/clipboard.min.js" ></script>



    
  

  

  

  
    
    
      










  
  















  
  
<script type="text/javascript" src="/js/main.js" ></script>



    
  

  
    
    
      












  
  
    
    
  
    
    
      










  
  















  
  
<script type="text/javascript" src="/js/prism.js" ></script>



    
  
    
    
      










  
  















  
  
<script type="text/javascript" src="/js/asciinema-player.js" ></script>



    
  
    
    
  

















  
  
<script type="text/javascript" src="/js/code.js" ></script>



    
  

  
    
    
      












  
  
    
    
  
    
    
  
    
    
      










  
  
    
    
  















  
  
<div id="device-size-detector">
  <div id="xs" class="d-xs-only"></div>
  <div id="sm" class="d-sm-only"></div>
  <div id="md" class="d-md-only"></div>
  <div id="lg" class="d-lg-only"></div>
  <div id="xl" class="d-xl-only"></div>
</div>
<script type="text/javascript" src="/js/size.js" ></script>



    
  

















  
  
<script type="text/javascript" src="/js/bash.js" ></script>



    
  

  
    
    
      










  
  
    
    
  















  
  
<script type="text/javascript" src="/js/toc.js" ></script>



    
  

  

  
    
    
      










  
  
    
    
      








  
  













  
  
<script type="text/javascript" src="/js/fingerprint2.min.js" ></script>



    
  















  
  
<script type="text/javascript" src="/js/google-analytics.js" ></script>



    
  

  

  

  

  
    
    
      









  
  














  
  
<script type="text/javascript" src="/js/search-bar.js" ></script>



    
  


  </body>
</html>